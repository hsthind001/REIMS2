# REIMS2 Environment Configuration
# Copy this file to .env and update with your actual values

# ==================== DATABASE ====================
POSTGRES_USER=reims
POSTGRES_PASSWORD=reims
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=reims

# Or use DATABASE_URL directly
# DATABASE_URL=postgresql://reims:reims@localhost:5432/reims

# ==================== REDIS ====================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ==================== SECURITY ====================
SECRET_KEY=your-secret-key-here-change-in-production
JWT_SECRET_KEY=your-jwt-secret-key-here
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ==================== AI / ML API KEYS ====================
# ⚠️  CRITICAL: Never commit real API keys to git!
# Rotate these immediately if exposed

# OpenAI
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-4

# Anthropic (Claude)
ANTHROPIC_API_KEY=your-anthropic-api-key-here
ANTHROPIC_MODEL=claude-3-sonnet-20240229

# GitHub (for integrations)
GITHUB_TOKEN=your-github-token-here

# Other AI Providers (optional)
PERPLEXITY_API_KEY=
GOOGLE_API_KEY=
MISTRAL_API_KEY=
XAI_API_KEY=
GROQ_API_KEY=

# ==================== FINANCIAL THRESHOLDS ====================
# NOI Calculation
REIMS_THRESHOLD_NOI_LARGE_NEGATIVE_ADJUSTMENT_THRESHOLD=10000
REIMS_THRESHOLD_NOI_LARGE_NEGATIVE_ADJUSTMENT_PERCENTAGE=0.10

# DSCR Alerts
REIMS_THRESHOLD_DSCR_WARNING_THRESHOLD=1.25
REIMS_THRESHOLD_DSCR_CRITICAL_THRESHOLD=1.10

# Occupancy Alerts
REIMS_THRESHOLD_OCCUPANCY_WARNING_THRESHOLD=90.0
REIMS_THRESHOLD_OCCUPANCY_CRITICAL_THRESHOLD=80.0

# Variance Analysis
REIMS_THRESHOLD_VARIANCE_WARNING_THRESHOLD_PCT=10.0
REIMS_THRESHOLD_VARIANCE_CRITICAL_THRESHOLD_PCT=25.0
REIMS_THRESHOLD_VARIANCE_URGENT_THRESHOLD_PCT=50.0

# Budget & Forecast Tolerances
REIMS_THRESHOLD_DEFAULT_BUDGET_TOLERANCE_PCT=10.0
REIMS_THRESHOLD_DEFAULT_FORECAST_TOLERANCE_PCT=15.0

# Liquidity Thresholds
REIMS_THRESHOLD_CURRENT_RATIO_MINIMUM=1.5
REIMS_THRESHOLD_QUICK_RATIO_MINIMUM=1.0

# ==================== EXTRACTION CONSTANTS ====================
# Confidence Thresholds (0-100)
REIMS_EXTRACTION_CONFIDENCE_THRESHOLD=85.0
REIMS_EXTRACTION_MATCH_CONFIDENCE_THRESHOLD=80.0
REIMS_EXTRACTION_NEEDS_REVIEW_CONFIDENCE_THRESHOLD=70.0

# OCR Settings
REIMS_EXTRACTION_OCR_LANGUAGE=eng
REIMS_EXTRACTION_OCR_DPI=300

# PDF Processing
REIMS_EXTRACTION_PDF_TABLE_EXTRACTION_METHOD=lattice

# ==================== ALERT CONFIGURATION ====================
# Alert Frequencies (in minutes)
REIMS_ALERT_CHECK_FREQUENCY_MINUTES=60
REIMS_ALERT_EMAIL_BATCH_MINUTES=30

# Email Notifications
REIMS_ALERT_EMAIL_ENABLED=true

# Alert Retention (in days)
REIMS_ALERT_HISTORY_RETENTION_DAYS=365

# Auto-Resolution
REIMS_ALERT_AUTO_RESOLVE_ENABLED=true

# ==================== CACHE CONFIGURATION ====================
# Cache TTLs (in seconds)
REIMS_CACHE_METRICS_CACHE_TTL=300
REIMS_CACHE_PROPERTY_CACHE_TTL=3600
REIMS_CACHE_USER_CACHE_TTL=900

# Semantic Cache
REIMS_CACHE_SEMANTIC_CACHE_SIMILARITY_THRESHOLD=0.95

# ==================== PAGINATION ====================
REIMS_PAGINATION_DEFAULT_PAGE_SIZE=50
REIMS_PAGINATION_MAX_PAGE_SIZE=1000

# ==================== EMAIL CONFIGURATION ====================
# SMTP Settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# Email From/To
EMAIL_FROM=noreply@reims.example.com
EMAIL_FROM_NAME=REIMS Notifications

# Alert Email Recipients (comma-separated)
ALERT_EMAIL_RECIPIENTS=finance@example.com,management@example.com

# ==================== MINIO (S3) ====================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_ENDPOINT=localhost:9000
MINIO_BUCKET_NAME=reims-documents
MINIO_USE_SSL=false

# ==================== CELERY ====================
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ==================== APPLICATION SETTINGS ====================
# Environment
ENVIRONMENT=development
DEBUG=true

# API Settings
API_V1_STR=/api/v1
PROJECT_NAME=REIMS2

# CORS
BACKEND_CORS_ORIGINS=["http://localhost:5173","http://localhost:3000"]

# Rate Limiting
RATE_LIMIT_PER_MINUTE=200

# ==================== LOGGING ====================
LOG_LEVEL=INFO
LOG_FORMAT=json

# ==================== FEATURE FLAGS ====================
# Natural Language Query
FEATURE_NLQ_ENABLED=true

# AI Features
FEATURE_AI_DOCUMENT_SUMMARY=true
FEATURE_AI_PROPERTY_RESEARCH=true
FEATURE_AI_TENANT_RECOMMENDATIONS=true

# Advanced Features
FEATURE_BULK_IMPORT=true
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_VARIANCE_ANALYSIS=true

# ==================== FRONTEND CONFIGURATION ====================
# API Base URL
VITE_API_BASE_URL=http://localhost:8000

# Feature Flags (Frontend)
VITE_FEATURE_NLQ=true
VITE_FEATURE_AI=true
VITE_FEATURE_BULK_IMPORT=true
VITE_FEATURE_ANALYTICS=true

# ==================== DATABASE MIGRATIONS ====================
RUN_MIGRATIONS=false

# ==================== DOCKER CONFIGURATION ====================
# Compose Project Name
COMPOSE_PROJECT_NAME=reims

# ==================== DEVELOPMENT / TESTING ====================
# Test Database
TEST_DATABASE_URL=postgresql://reims:reims@localhost:5432/reims_test

# Seed Data
SEED_SAMPLE_DATA=false

# ==================== PRODUCTION SETTINGS ====================
# (Only for production deployment)

# Security
# SECURE_COOKIES=true
# HTTPS_ONLY=true

# Database
# POSTGRES_HOST=your-production-db-host
# POSTGRES_PASSWORD=your-strong-production-password

# SSL/TLS
# DATABASE_SSL_MODE=require

# Backup
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE=0 2 * * *
# BACKUP_RETENTION_DAYS=30

# ==================== NOTES ====================
# 1. Never commit .env file to git - add to .gitignore
# 2. Rotate API keys regularly
# 3. Use strong passwords in production
# 4. Enable SSL/TLS in production
# 5. Set DEBUG=false in production
# 6. Configure proper email settings for alerts
# 7. Adjust thresholds based on your property portfolio
